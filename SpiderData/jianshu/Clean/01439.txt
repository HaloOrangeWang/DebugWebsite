在pycharm中运行脚本正常,使用命令行就会报错


原因分析

我们在pycharm中创建项目时使用了虚拟环境.在pycharm中运行我们的脚本时使用的依赖包都存在虚拟环境中,所以执行是没有问题的

而在cmd中直接使用 python run.py就会提示找不到文件或缺少依赖包等问题(因为执行python解释器的路径不同,缺少依赖包)


解决办法:

进入到项目虚拟环境下 执行脚本

1.先cd 项目的存放目录\venv\Scripts 下

2.输入activate (进入虚拟环境的命令),就会发现已经进入到了项目的虚拟环境中

3.返回上级到项目目录中 ,重新执行脚本

输入 deactivate 退出虚拟环境


总结

虚拟环境是完全独立的环境,如果要在命令行或jenkins上执行虚拟环境的脚本,需要先进入虚拟环境然后再执行命令就ok了


在jenkins中执行虚拟环境脚本(windows)

1.cd 到项目虚拟环境中

2.因为使用activate命令后会重新打开窗口,故我们可以使用&&符号来拼接我们后面的命令


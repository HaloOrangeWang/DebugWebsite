我们最近在通过Python3来开发行人分析，该分析功能原本是在其他项目中的一个分支，待我们将该功能完善后，可能以EasyCVR智能分析自带功能来对外发布。当然我们的开发过程会不定期在博客更新，大家如果对我们的开发感兴趣，可以关注我们，也欢迎大家和我们交流开发经验。

在我们开发过程中，运行ridership.exe启动替换视频源时，出现以下错误信息：
“panic: runtime error: index out of range [-1]
Goroutine 1 [running]”；其他错误就是对应的文件某一行。

根据这个报错提示，我们首先查看第change_main.go第390行、370行、105行、50行。

第50行是一个运行主要函数的入口：

然后往下继续查找函数的入口：会有个“FindFilePersons”这个函数。此函数是代表找到所有的人数与其他系统内所录入的人数对应，作为一个完整的视频源给替换，就是播放从文件找历史的源。

往前面还有一个错误，有个函数出错：“FinalJoinSource”此函数才是最终的错误所在。

这个是作为最后把所有的人数没有找到，在进行拼接时，拼接出对其他系统内所录入的人数差不对的视频源开进行播放。这样错误就明显了，显示的错误是一个数组的范围不正确导致的。

先前是把所有小于其他系统内所录入的人数作为临时的值给保存，所以如果没有进行append进去，此临时值是没有值的。

所以只需要加上一个条件语句即可：


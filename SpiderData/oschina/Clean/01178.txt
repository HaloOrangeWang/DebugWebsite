报错代码：

fw = open(filename, 'w', buffering=0)

原因：

buffering=0表示一个字符一个字符地写入，貌似不支持'w'的方式写字符串，只能用’wb‘的方法写入字节流。

但是这存在一个问题，所有字符串都需要通过类似 b'\n'、bytes('\n')、’中文字符‘.encode('utf8')的方式转化为字节，转化过程中还可能报出其他错误。

解决：

文件缓冲行为分为：全缓冲，行缓冲，无缓冲

全缓冲： buffering = 1024，当缓冲区文件大小达到1024个字节的时候，写入磁盘，也可以是其他数字。

行缓冲： buffering = 1, 缓冲区碰到 \n 换行符的时候就写入磁盘

无缓冲：buffering = 0 ，写多少，存多少

经过测试，改为buffering=1就可以正常写入字符串了！

点赞

收藏

分享

文章举报


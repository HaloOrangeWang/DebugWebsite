ç›®å½•

1ã€é”™è¯¯ä¸å¼‚å¸¸

2ã€å¸¸è§å¼‚å¸¸ç±»å‹

3ã€Pythonå¼‚å¸¸å¤„ç†

3.1ã€æ‰‹åŠ¨è§¦å‘å¼‚å¸¸

3.2ã€å¼‚å¸¸åµŒå¥—

3.3ã€å¼‚å¸¸å¤„ç†æ³¨æ„äº‹é¡¹

3.4ã€åœ¨å‡½æ•°ä¸­ï¼Œéœ€è¦æ³¨æ„åœ¨try/except/finallyä½¿ç”¨return

3.5ã€å…³äºå¼‚å¸¸å¤„ç†çš„æ€§èƒ½


1ã€é”™è¯¯ä¸å¼‚å¸¸

ğŸ“[ä»€ä¹ˆæ˜¯é”™è¯¯]ğŸ“

è¯­æ³•é”™è¯¯ï¼ˆå¤§å°å†™æ‹¼å†™é”™è¯¯ã€æ‹¬å·ä¸åŒ¹é…ç­‰...ï¼‰=> ä¸èƒ½æ­£å¸¸æ‰§è¡Œ

ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„æ„æ–™ä¹‹å¤–çš„é”™è¯¯

å¦‚ï¼šæ‰“å¼€çš„æ–‡ä»¶ä¸å­˜åœ¨ã€è¢«é™¤æ•°ä¸º0ã€æ“ä½œçš„æ•°æ®ç±»å‹ä¸å¯¹ã€å­˜å‚¨é”™è¯¯ï¼Œäº’è”ç½‘è¯·æ±‚é”™ è¯¯


2ã€å¸¸è§å¼‚å¸¸ç±»å‹

NameErrorï¼Œå°è¯•è®¿é—®ä¸€ä¸ªæ²¡æœ‰ç”³æ˜çš„å˜é‡

ZeroDivisionErrorï¼Œé™¤æ•°ä¸º0

SyntaxErrorï¼Œè¯­æ³•é”™è¯¯

IndentationErrorï¼Œç¼©è¿›é”™è¯¯

KeyErrorï¼Œè¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„å­—å…¸å…³é”®å­—

IndexErrorï¼Œç´¢å¼•è¶…å‡ºåºåˆ—èŒƒå›´

AttributeErrorï¼Œå°è¯•è®¿é—®æœªçŸ¥çš„å¯¹è±¡å±æ€§

ValeErrorï¼Œä¼ ç»™å‡½æ•°çš„å‚æ•°ç±»å‹ä¸æ­£ç¡®ï¼ˆä¾‹å¦‚ï¼šç»™int()å‡½æ•°ä¼ å…¥å­—ç¬¦ä¸²ï¼‰

AssertionErrorï¼Œæ–­è¨€å¼‚å¸¸

è¿™ä¸ªå¸¸å¸¸ç”¨æ¥åšæµ‹è¯•


3ã€Pythonå¼‚å¸¸å¤„ç†

å¼‚å¸¸å¤„ç†

åœ¨ä»£ç è¢«è§£é‡Šæ‰§è¡Œçš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´,å¯èƒ½ä¼šå‘ç”Ÿ,å¯èƒ½ä¸ä¼šå‘ç”Ÿã€‚å¯¹äºè¿™ä¹ˆä¸å¯é¢„æµ‹çš„å¼‚å¸¸çŠ¶æ€å¦‚ä½•å¤„ç†ï¼Ÿ

1ï¼šå³ä½¿ç¨‹åºå‡ºé”™ï¼Œä¹Ÿä¸æƒ³è®©ç¨‹åºç»ˆæ­¢

2ï¼šå¦‚æœå‡ºé”™äº†ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†

å¼‚å¸¸å¤„ç†æœºåˆ¶ try...except...

ç®€å•çš„å¼‚å¸¸å¤„ç†çš„æ ¼å¼

exceptåˆ†æ”¯å¯ä»¥æœ‰å¤šä¸ª

è‹¥æ˜¯exceptæ•è·çš„é”™è¯¯ä¸è§¦å‘çš„å¼‚å¸¸ä¸ä¸€è‡´ï¼Œç¨‹åºå°±æ•è·ä¸åˆ°å¼‚å¸¸ï¼Œå¼‚å¸¸å°±ä¼šç…§å¸¸æŠ›å‡º

elseå­å¥ï¼šæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸æ—¶æ‰§è¡Œ

finallyå­å¥ï¼šä¸ç®¡å¼‚å¸¸æœ‰æ²¡æœ‰å‘ç”Ÿéƒ½æ‰§è¡Œï¼Œæ— è®ºä»€ä¹ˆæƒ…å†µéƒ½ä¼šæ‰§è¡Œï¼Œå³ä½¿å‰è¾¹æœ‰ä¸€ä¸ªreturn


3.1ã€æ‰‹åŠ¨è§¦å‘å¼‚å¸¸

æœ‰ä¸‰ç§æƒ…å†µï¼š

raiseÂ  Â ç›´æ¥ä½¿ç”¨ï¼Œé»˜è®¤æŠ›å‡ºRuntimeError

raiseÂ  Â å¼‚å¸¸ç±»

raiseÂ  Â å¼‚å¸¸ç±»ï¼ˆâ€œå¼‚å¸¸ä¿¡æ¯â€ï¼‰


3.2ã€å¼‚å¸¸åµŒå¥—


3.3ã€å¼‚å¸¸å¤„ç†æ³¨æ„äº‹é¡¹

åªæ‰§è¡Œæœ€å…ˆåŒ¹é…çš„ä¸€ä¸ªexcept

å¦‚æœçˆ¶ç±»å¼‚å¸¸åœ¨æœ€å‰é¢,ä¼šåå™¬æ‰€æœ‰å­ç±»å¼‚å¸¸

å¤šexceptæ³¨æ„ï¼š 
åªä¼šåŒ¹é…ä¸€ä¸ªexcept è¦å…ˆå†™å­ç±»å¼‚å¸¸å†å†™çˆ¶ç±»å¼‚å¸¸ å¦‚æœexceptæ•è·çš„é”™è¯¯ä¸è§¦å‘çš„é”™è¯¯ä¸ä¸€è‡´ï¼Œç¨‹åºä¼šæ•è·ä¸åˆ°

åªä¼šåŒ¹é…ä¸€ä¸ªexcept

è¦å…ˆå†™å­ç±»å¼‚å¸¸å†å†™çˆ¶ç±»å¼‚å¸¸

å¦‚æœexceptæ•è·çš„é”™è¯¯ä¸è§¦å‘çš„é”™è¯¯ä¸ä¸€è‡´ï¼Œç¨‹åºä¼šæ•è·ä¸åˆ°

ğŸ¦–[å‡ ç‚¹å»ºè®®]ğŸ¦–

ä¸å»ºè®®ä½¿ç”¨å¼‚å¸¸æ¥ä»£æ›¿å¸¸è§„çš„æ£€æŸ¥ï¼Œå¦‚if...elseåˆ¤æ–­

ä¸å»ºè®®ä½¿ç”¨å¼‚å¸¸æ¥ä»£æ›¿å¸¸è§„çš„æ£€æŸ¥ï¼Œå¦‚if...elseåˆ¤æ–­

é¿å…è¿‡å¤šä¾èµ–äºå¼‚å¸¸å¤„ç†æœºåˆ¶

é¿å…è¿‡å¤šä¾èµ–äºå¼‚å¸¸å¤„ç†æœºåˆ¶

åœ¨å¿…è¦çš„æ—¶å€™ï¼Œå¯ä»¥æ‰‹åŠ¨å¼•å‘å¼‚å¸¸ï¼ˆraiseï¼‰=> å‡½æ•°æˆ–æ–¹æ³•

åœ¨å¿…è¦çš„æ—¶å€™ï¼Œå¯ä»¥æ‰‹åŠ¨å¼•å‘å¼‚å¸¸ï¼ˆraiseï¼‰=> å‡½æ•°æˆ–æ–¹æ³•


3.4ã€åœ¨å‡½æ•°ä¸­ï¼Œéœ€è¦æ³¨æ„åœ¨try/except/finallyä½¿ç”¨return

åœ¨finallyä¸­ä½¿ç”¨returnï¼Œå¼‚å¸¸æ— æ³•å›æº¯

åœ¨å‡½æ•°ä¸­çš„try/exceptè¯­å¥ä½¿ç”¨returnå,ä»ç„¶ä¼šæ‰§è¡Œfinallyä¸­çš„å†…å®¹ â€‹â€‹â€‹â€‹â€‹â€‹â€‹ 
  finally => æ­£å¸¸æˆ–å¼‚å¸¸éƒ½æ‰§è¡Œ return => ç›´æ¥é€€å‡ºå‡½æ•°ï¼Œè¿”å›å€¼ç»™ä¸»ç¨‹åº

finally => æ­£å¸¸æˆ–å¼‚å¸¸éƒ½æ‰§è¡Œ

return => ç›´æ¥é€€å‡ºå‡½æ•°ï¼Œè¿”å›å€¼ç»™ä¸»ç¨‹åº


3.5ã€å…³äºå¼‚å¸¸å¤„ç†çš„æ€§èƒ½

[root@fttswlp rough_book]# cat 1.py 
for i in range(10000000):
	try:
		pass
	except:
		pass

[root@fttswlp rough_book]# cat 2.py 
try:
	for i in range(10000000):
		pass
except:
	pass

è¿™ä¸¤ä¸ªä»£ç å“ªä¸ªæ€§èƒ½æ›´å¥½å‘¢ï¼Ÿ

[root@fttswlp rough_book]# time python 1.py

real	0m1.776s
user	0m0.351s
sys	0m1.424s
[root@fttswlp rough_book]# time python 2.py

real	0m0.448s
user	0m0.344s
sys	0m0.103s

å› ä¸º"1.py"æ¯å¾ªç¯ä¸€æ¬¡å°±è¦tryä¸€æ¬¡


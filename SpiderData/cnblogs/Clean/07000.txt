
在vscode使用相对路径的python应用报错找不到该文件的解决方法


情景一：vscode直接用Run Code插件运行报错

当用vscode打开一个文件夹，我们在这个文件夹的子文件夹中进行代码编写，读取同路径下的文件。提示报错，找不到文件。


问题解决方案

方案一：使用vscode直接打开相应目录，，否则该文件调用相对路径的文件都会出现问题。

方案二（推荐）：通过文件-->首选项-->设置-->搜索Code-run，找到File Directory As Cwd并勾选上即可解决


情景二：在vscode终端中运行该.py文件。

在pycharm中可以运行,vscode中却出问题,是因为你使用了相对路径,而相对路径和终端的cwd有密切联系

在vscode中，子文件夹内的文件的相对路径的基准不再是该文件所在路径，而是用vscode打开的根目录作为整个项目的相对路径的基准。项目中所有文件的相对路径都是指项目根目录。

VSC默认使用项目文件夹根目录作为工作目录(cwd),这会使得子文件夹中的程序无法使用相对路径.


问题解决方案

方案一：（但是不知道为啥不生效）

在launch.json（可以通过vscodeCtrl+P全局搜索找到该文件）中配置cwd为运行的文件所在目录

方案二：

在命令行中运行 py 文件，工作目录取决于当前命令行所在的目录,由于通常我们会将命令行 cd 到 py文件 同目录下（这样没有执行的时候不需要敲一堆路径，python src/bala/bala/program.py 之类的），工作目录就与 py文件 同目录，生成的文件自然在这个目录下

如果从 vscode 中启动，如果没有修改 launch.json 中的 cwd 的值，默认以 "${workspaceFolder}" 作为工作目录（项目根目录），所以相对路径的起点也要从这个目录开始。


最后

可以学习下：

windows环境下vscode中使用python做图像处理

python第三方模块OpenCV学习下


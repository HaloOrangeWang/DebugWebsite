一个执着于技术的公众号


简介

本文主要为大家讲解 CentOS 7系统中执行yum命令失败等常见问题的排查方法。


1、执行yum命令报404错误

1）检查yum仓库是否配置正确，可以到阿里云下载repo配置文件。

2）如果报错中包含$releasever变量， 则执行rpm -qa | grep centos-release确认centos-release是否安装。未安装可以执行以下命令下载安装包进行安装。


2、 执行yum install命令提示failed错误

1）从报错可以看到提示以下信息，此处以安装Telnet为例。

2）执行lsattr命令检查/usr/bin目录权限，发现该目录有i属性，导致无法写入文件。执行以下命令解除目录的i属性即可。


3、执行yum命令提示Python解释器不存在

在执行yum命令时提示以下报错信息：

1）执行以下命令查看yum路径。

系统会返回以下路径：

2）执行以下命令检查上述查看的路径。

如果系统返回以下信息，Python可能被卸载、被改名或移动路径。


具体请参考以下步骤进行排查。

执行以下命令查看安装包是否存在。

执行以下命令查看安装包是否存在。

系统返回以下信息。

执行以下命令查看Python相关文件。

执行以下命令查看Python相关文件。

系统返回以下信息。

请根据返回的信息参考以下场景进行操作。

1）检查/usr/bin/python.bak是否被改名，若发现被改名后手动改回即可恢复正常。

2）如果未发现Python相关文件，即判定Python被卸载。

请找个同系统的正常实例，执行如下命令。

请找个同系统的正常实例，执行如下命令。

执行以下命令将/python/中的rpm包传到异常实例。

执行以下命令将/python/中的rpm包传到异常实例。

注意> ：x.x.x.x 指的是需要访问的主机地址。前提是两者有通信能力，能复制文件到主机中。

执行以下命令在异常实例上安装Python即可。

来自：

https://developer.aliyun.com/article/761306?spm=a2c6h.12873581.0.dArticle761306.5aaf2784Z7f8Ge&groupCode=mirror

结语

如果您看完本文后有所收获， 还希望您随手点个在看 、或者分享转发。您的支持是我坚持分享的最大动力！

往期精彩

◆  必看 | Linux系列学习书籍免费送！

◆  利用expect批量修改Linux服务器密码

◆  nginx+Keepalived 实现高可用集群

◆  干货 | LVM快照学习

◆  一文带你读懂nginx反向代理

◆  抓包工具tcpdump用法说明

◆  零成本 | 手把手教你搭建个人博客

◆  实战 | Hadoo大数据集群搭建

◆【深度好文】终于有人把云计算、大数据和AI讲明白了

◆  亿级web系统负载均衡几种实现方式

◆  一文带你读懂zookeeper在大数据生态的应用



项目场景

python中使用pillow库打开一张图片，对图片的长宽进行条件判断，若满足图片的宽大于长，就调用os库的remove函数将图片删除。


问题描述

运行程序，报错说是：另一个程序正在使用此文件，进程无法访问。


原因分析

我们都知道，一般文件处于占用状态的话，系统出于对文件的保护，我们是不能直接将其删除的，除非强制解除占用。

这里用pillow库打开了这张图片，但不能立即将其删除，那么就说明该文件打开后并没有立即被释放，仍处于占用状态，所以我们只需要释放文件就行了。


解决办法

加一条代码img.close()解除文件占用。然后就能对文件进行下一步的操作了。


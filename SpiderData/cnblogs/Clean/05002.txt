python3.7å¯åŠ¨pyspideræ—¶æŠ¥é”™çš„é—®é¢˜


python3.7å¯åŠ¨pyspideræ—¶æŠ¥é”™çš„é—®é¢˜

2019å¹´04æœˆ22æ—¥ 08:40:42 æ²™é›¨ é˜…è¯»æ•° 490æ›´å¤š
åˆ†ç±»ä¸“æ ï¼š  spider

2019å¹´04æœˆ22æ—¥ 08:40:42 æ²™é›¨ é˜…è¯»æ•° 490æ›´å¤š
åˆ†ç±»ä¸“æ ï¼š  spider

åˆ†ç±»ä¸“æ ï¼š  spider

ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œéµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚
æœ¬æ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_41698864/article/details/89444910

ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œéµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚
æœ¬æ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_41698864/article/details/89444910

æœ¬æ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_41698864/article/details/89444910

å…³é”®å­—é—®é¢˜

æœ€åä¸€å¥å‡ºç°

File â€œD:\installed\Python\Lib\site-packages\pyspider\run.pyâ€, line 231

async=True, get_object=False, no_input=False):

SyntaxError: invalid syntax

åŸå› æ˜¯ï¼špython3.7ä¸­asyncæ˜¯å…³é”®å­—

è§£å†³åŠæ³•æ˜¯å°†è¿™ä¸ªå…³é”®å­—æ›¿æ¢æ‰ã€‚ä¸»è¦æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼šD:\installed\Python\Lib\site-packages\pyspider\run.py      å’Œ   D:\installed\Python\Lib\site-packages\pyspider\fetcher\tornado_fetcher.py

åœ¨æ›¿æ¢æ˜¯è¦æ³¨æ„ï¼šåªæ›¿æ¢åä¸ºasync çš„å˜é‡æˆ–å‚æ•°åã€‚ä¸è¦å›¾çœäº‹é€‰æ‹©â€œå…¨éƒ¨æ›¿æ¢â€

æ›¿æ¢ä¿å­˜åå†æ¬¡è¿è¡Œâ€œpyspider  allâ€

è¿™æ—¶spideråªå¯åŠ¨åˆ°â€œscheduler xmlrpc listening on 127.0.0.1:23333â€å°±åœæ­¢äº†

ç»§ç»­æ›¿æ¢PYTHON_HOME\Lib\site-packages\pyspider\webui\app.pyä¸­çš„async

å†æ¬¡å¯åŠ¨

åˆæŠ¥é”™ï¼šValueError: Invalid configuration:

-Deprecated option â€˜domaincontrollerâ€™: use â€˜http_authenticator.domain_controllerâ€™ instead.

è§£å†³åŠæ³•ï¼šæ‰“å¼€PYTHON_HOME\Lib\site-packages\pyspider\webui\webdav.pyæ–‡ä»¶ï¼Œä¿®æ”¹ç¬¬209è¡Œ

æŠŠ â€˜domaincontrollerâ€™: NeedAuthController(app)

ä¿®æ”¹ä¸ºï¼š

â€˜http_authenticatorâ€™:{

â€˜HTTPAuthenticatorâ€™:NeedAuthController(app),

},

ä¿å­˜æ–‡ä»¶

å†æ¬¡è¿è¡Œï¼ŒæˆåŠŸ

è¿™æ˜¯æˆ‘é‡åˆ°çš„ï¼Œç„¶åç½‘ä¸Šå±…ç„¶æ²¡æœ‰ç‰¹åˆ«æ˜æ˜¾çš„è§£å†³ï¼Œè´¹åŠ²åƒè¾›ä¸‡è‹¦æ‰æŸ¥åˆ°ï¼Œè¿™æ˜¯WsgiDAVå‘å¸ƒäº†ç‰ˆæœ¬ pre-release 3.xå¯¼è‡´çš„ï¼Œæ‰€ä»¥åªè¦æŠŠç‰ˆæœ¬é™ä¸‹æ¥å°±å¥½äº†ã€‚

å°†wsgidavæ›¿æ¢ä¸º2.4.1

â€¢# python -m pip install wsgidav==2.4.1
 ç›´æ¥pip install wsgidav-2.4.1å°±ä¼šå¸è½½3.0.0è£…2.4.1

ç„¶åè¿è¡Œ pyspider all  å‘ç°å±…ç„¶å¯ä»¥äº†ã€‚ä¸Šä¸€å¼ æˆåŠŸçš„å›¾ç‰‡ã€‚


6ã€å¦‚æœæ˜¯åœ¨windowsç¯å¢ƒä¸‹ï¼Œç³»ç»Ÿä¼šæç¤º FutureWarning: timeout is not supported on your platform. warnings.warn(â€œtimeout is not supported on your platform.â€, FutureWarning)ï¼Œå¿½ç•¥å³å¯ã€‚


pyspider_å®‰è£…ä¸å¯åŠ¨

pyspider

å®˜æ–¹æ–‡æ¡£ï¼šhttp://docs.pyspider.org/en/latest/Quickstart/

1ã€å®‰è£…

ï¼ˆ1ï¼‰pip install pycurl
ï¼ˆ2ï¼‰pip install pyspider

2ã€pyspiderå‘½ä»¤å¯åŠ¨é”™è¯¯ï¼Œå‡ºç°"SyntaxError:invalid syntax"æŠ¥é”™ã€‚

ï¼ˆ1ï¼‰ åŸå› ï¼šasyncåœ¨Python 3.7ä¸­å·²æˆä¸ºå…³é”®å­—ï¼Œ
ï¼ˆ2ï¼‰ è§£å†³æ–¹æ³•ï¼š


pyspider

å®˜æ–¹æ–‡æ¡£ï¼šhttp://docs.pyspider.org/en/latest/Quickstart/


1ã€å®‰è£…

ï¼ˆ1ï¼‰pip install pycurl

ï¼ˆ2ï¼‰pip install pyspider


2ã€pyspiderå‘½ä»¤å¯åŠ¨é”™è¯¯ï¼Œå‡ºç°"SyntaxError:invalid syntax"æŠ¥é”™ã€‚

ï¼ˆ1ï¼‰ åŸå› ï¼šasyncåœ¨Python 3.7ä¸­å·²æˆä¸ºå…³é”®å­—ï¼Œ

ï¼ˆ2ï¼‰ è§£å†³æ–¹æ³•ï¼š

Aã€æ‰“å¼€pyspideræ–‡ä»¶å¤¹ï¼ˆåœ¨pythonè·¯å¾„ä¸‹pythonä½ç½®\Lib\site-packages\pyspiderï¼‰
Bã€ä¿®æ”¹ä¸‹åˆ—pythonæ–‡ä»¶ä¸­çš„asyncä¸ºsharkï¼ˆå…¨éƒ¨æ›¿æ¢ï¼‰ï¼Œpycharmä¸­ç”¨ctrl+rå¿«æ·é”®å¯ä»¥è¿›è¡Œæ›¿æ¢ã€‚
	run.py
	fetcher\tornado_fetcher.py
	webui\app.py


3ã€pyspiderå‘½ä»¤å¯åŠ¨é”™è¯¯ï¼Œå‡ºç°"ValueError: Invalid configuration"æŠ¥é”™ã€‚

ï¼ˆ1ï¼‰åŸå› ï¼šWsgiDAVå‘å¸ƒäº†ç‰ˆæœ¬ pre-release 3.xå¯¼è‡´

ï¼ˆ2ï¼‰è§£å†³æ–¹æ³•ï¼š

1


4ã€pyspiderå‘½ä»¤å¯åŠ¨é”™è¯¯ï¼Œå‡ºç°"phantomjs"æŠ¥é”™ã€‚

ï¼ˆ1ï¼‰åŸå› ï¼šæœªå®‰è£…phantomjs

ï¼ˆ2ï¼‰è§£å†³æ–¹æ³•ï¼š

1

2

3


5ã€å‘½ä»¤çª—å£è¾“å…¥pyspiderï¼›æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:5000/

ï¼ˆ1ï¼‰å‘½ä»¤çª—å£è¾“å…¥pyspiderï¼Œå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œå³ğŸ†—ã€‚

ï¼ˆ2ï¼‰æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:5000/ ï¼Œå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œå³ğŸ†—ã€‚


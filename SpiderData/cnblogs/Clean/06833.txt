详细错误描述如下：

UnicodeDecodeError: 'utf-8' codec can't decode byte 0x8b in position 1: invalid start byte

在使用pycurl包进行爬虫的时候，对爬虫的返回的页面，进行写文件或者打印的时候，需要进行解码操作。代码如下：


出现原因

headers请求头中，包括：Accept-encoding请求头，请求的响应内容理应是经压缩的数据。这代表本地可以接收压缩格式的数据，而服务器在处理时就将大文件压缩再发回客户端，浏览器在接收完成后在本地对这个文件又进行了解压操作。

出错的原因是因为你的程序没有解压这个文件，所以删掉这行就不会出现问题。


解决方案


方法一：删掉这一行


方法二：解码

不删除头里面的字段，用gzip包进行解码

代码一

代码二

代码三


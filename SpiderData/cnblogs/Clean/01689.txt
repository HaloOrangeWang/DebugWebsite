chenhuimingdeMacBook-Pro:groceryList Mch$

sudo pip3 install beautifulsoup4

The directory '/Users/Mch/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
The directory '/Users/Mch/Library/Caches/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting beautifulsoup4
  Could not fetch URL https://pypi.python.org/simple/beautifulsoup4/: There was a problem confirming the ssl certificate: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:590) - skipping
  Could not find a version that satisfies the requirement beautifulsoup4 (from versions: )
No matching distribution found for beautifulsoup4

Solution:

* reinstall pythonï¼Ÿ

brew reinstall python

ã€€ã€€

* install pip3

brew install pip3

ã€€ã€€

Error: No available formula with the name "pip3"
==> Searching for a previously deleted formula (in the last month)...
Error: No previously deleted formula found.
==> Searching for similarly named formulae...
Error: No similarly named formulae found.
==> Searching taps...
==> Searching taps on GitHub...
Warning: Error searching on GitHub: GitHub
The GitHub credentials in the macOS keychain may be invalid.
Clear them with:
  printf "protocol=https\nhost=github.com\n" | git credential-osxkeychain erase
Or create a personal access token:
  https://github.com/settings/tokens/new?scopes=gist,public_repo&description=Homebrew
and then set the token as: export HOMEBREW_GITHUB_API_TOKEN="your_new_token"

Error: No formulae found in taps.

* ClearÂ The GitHub credentials in the macOS keychain

printf "protocol=https\nhost=github.com\n" | git credential-osxkeychain erase

ã€€ã€€

*Â create a personal access token

https://github.com/settings/tokens/new?scopes=gist,public_repo&description=Homebrew

Generate token

* Click Button "Generate token"

https://github.com/settings/tokens

æŠŠè¿™ä¸ª40ä½çš„tokenç²˜è´´å‡ºæ¥

* emacs ~/.bash_profile

echo 'export HOMEBREW_GITHUB_API_TOKEN="your_token"' >> ~/.bash_profile
. !$

ã€€ã€€

* å†è¯•å®‰è£…beautifulsoup4

pip3 install beautifulsoup4

ã€€ã€€

Collecting beautifulsoup4
  Downloading https://files.pythonhosted.org/packages/fe/62/720094d06cb5a92cd4b3aa3a7c678c0bb157526a95c4025d15316d594c4b/beautifulsoup4-4.6.1-py3-none-any.whl (89kB)
    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 92kB 180kB/s
Installing collected packages: beautifulsoup4
Successfully installed beautifulsoup4-4.6.1

* upgrade pip

sudo curl https://bootstrap.pypa.io/get-pip.py | python3

ã€€ã€€

Could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/usr/local/bin/pip'

Consider using the `--user` option or check the permissions.

sudo chown -hR `whoami`:staff /usr/local/bin/

output:ã€€ã€€

ã€€ã€€

*Â åœ¨å¼•ç”¨bs4Â â€œfrombs4 import BeautifulSoupâ€æ—¶è¿˜ä¼šæŠ¥é”™â€œModuleNotFoundError: Nomodule named 'bs4'.â€ æœªæ‰¾åˆ°åä¸ºbs4çš„æ¨¡å—ï¼Œè¿™æ—¶éœ€è¦åœ¨Pycharmä¸Šå®‰è£…bs4æ¨¡å—æ¥è§£å†³

æŒ‰Cmd(win) + , (windowså›¾æ ‡é”® å’Œ é€—å· ä¸€èµ·æŒ‰)æˆ–è€…ç‚¹ Pycharm => Preferences

windowsä¸‹ File => settings

* ç‚¹å‡» å³è¾¹æ¡† å·¦ä¸‹è§’ + install

ğŸ”bsÂ  å†ç‚¹å‡» "Install Package"

è¿™è¡Œä»£ç ä¸æŠ¥é”™äº†

from bs4 import BeautifulSoup

ã€€ã€€

* åˆ›å»ºpythonæ–‡ä»¶

#-*- coding: UTF-8 -*-
#!/usr/local/bin/python3

from urllib.request import urlopen
from bs4 import BeautifulSoup

html = urlopen("http://pythonscraping.com/pages/page1.html")
bsObj = BeautifulSoup(html.read())
print(bsObj.h1)

ã€€ã€€Run:

ã€€ã€€

* è¿™é‡Œæœ‰ä¸€ä¸ªè­¦å‘Šâš ï¸ç¬¬8è¡Œå‡ºé”™

æ ¹æ®æç¤º

æ‰¾åˆ°è¿™ä¸ªæ„é€ å‡½æ•°åœ¨æ–‡ä»¶/Users/Mch/PycharmProjects/BeautifulSoup/venv/lib/python3.7/site-packages/bs4/__init__.py

def __init__(self, markup="", features=None, builder=None,
                 parse_only=None, from_encoding=None, exclude_encodings=None,
                 **kwargs):

ã€€ã€€

å› æ­¤åœ¨ç¬¬8è¡Œæ·»åŠ å‚æ•° 'html.parser'

bsObj = BeautifulSoup(html.read(), 'html.parser')

ã€€å†è¿è¡Œï¼š

/Users/Mch/PycharmProjects/BeautifulSoup/venv/bin/python /Users/Mch/PycharmProjects/BeautifulSoup/index.py
<h1>An Interesting Title</h1>

Process finished with exit code 0

warningæ²¡æœ‰äº†

* try ... except... else

ã€€ã€€

* å¯é çš„ç½‘ç»œè¿æ¥

ã€€ã€€

Run:

python3 ./index.py

ã€€ã€€<h1>An Interesting Title</h1>

* pythonåº“ä¸‹è½½

https://www.lfd.uci.edu/~gohlke/pythonlibs/


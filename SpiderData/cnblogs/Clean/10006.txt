
背景

最近工作中经常会有测试、项目经理让我查一下生产问题，每次都要去数据库查半天，数据库是部署在客户内网的一个Oracle数据库，

个人对于Oracle数据库的存储过程不太熟悉，于是想着写个Python脚本方便以后排查问题。网上搜到目前Python连接Oracle数据库

最好用的库是cx_Oracle，结果第一句代码报错就搞了半天_-_


本文所述系统及工具版本

操作系统：Deepin GNU/Linux 20.2

python版本：3.8.5

oralce instantclien版本：instantclient_21_1


代码及错误堆栈


代码


错误堆栈


问题解决过程

1.刚开始以为是文件夹或文件的权限问题，毕竟linux系统中权限问题涉及的是很多的，于是给instantclient_21_1增加读写权限，没用；

2.后来以为是绝对路径的问题，于是将instantclient_21_1移到python程序的目录下，使用相对路径，没用；

3.网上搜索，尝试了几种方案，设置了Oracle的一些环境变量之类的，没用；

4.老老实实跟着错误提示里面的链接去看cx_Oracle的安装文档：

为了确保和文档上完全一致，我最后也把instantclient_21_1这个文件夹已到了/opt/oracle目录下面，这个方法成功。。。该早点看文档的，

就是每次看英文文档看的想睡觉就下意识的拒绝。


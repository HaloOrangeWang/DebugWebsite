
写在前面

这是课程作业的一部分，当时排错的时候，发现网上相关文章比较少。现学期结束，正值放假，决定将其整理出来，希望能帮到您。如果您觉得写得还行，还望不吝啬您的赞，感谢。另外，转载请声明出处。


分类

大型数据库 华为GaussDB 全量恢复


错误描述

1.使用此命令完成全量恢复。

2.使用命令启动实例时却报错了

报错内容如下

Can not get instance '/opt/gaussdb/data' process pid

3.使用命令检查实例状态，发现未启动。提示Zengine instance has not started.命令如下：

4.使用命令停止实例，发现可以stop，也可以将实例启动到nomount。命令如下：

5.但是使用命令检查日志时发现不能启动到mount。命令如下：

经过以上步骤，结论是全量恢复后，无法将实例到启动到mount阶段，但是可以启动到nomount阶段。


解决

经老师提醒，发现原来全量备份与恢复还没做完，参考HCIP-GaussDB-OLTP V1.0实验手册第十二章。

连接之后，执行恢复数据库、将数据库启动命令即可（即下列代码块中最后两条命令）。所用命令如下：

（补充）可以使用命令检查数据库状态。

注意字段之间的逗号不要有空格，否则报错GS-00843, [1:45]The table or view SYS.V$DATABSE does not exist.


参考

GaussDB T 修改主机IP的那点事

